<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>PlayNFT - The Playground for your NFTs</title>
    <meta content="" name="description" />

    <meta content="nft" name="keywords" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NTBHF6SC72"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-NTBHF6SC72');
    </script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5ZHRQDP');</script>
<!-- End Google Tag Manager -->


    <!-- Favicons -->
    <link href="../assets/img/favicon.png" rel="icon" />
    <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet" />

    <!-- Vendor CSS Files -->
    <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="../assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />
    <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="../assets/css/style.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>
    <script src="https://kit.fontawesome.com/0a0492e97d.js" crossorigin="anonymous"></script>
    <script
        src="https://www.paypal.com/sdk/js?client-id=Afublr47iUx9od__o9lROJup9U0wx74gtOgqlGi-xPG8hGRUggDp1497DSQTMaAN9hP5FspYXTg9bZu0"></script>

    <script src="https://cdn.tiny.cloud/1/doicvbneaya0gerwmrc6gn0ei4uw3vsk4znmslowgfwri44v/tinymce/5/tinymce.min.js"
        referrerpolicy="origin"></script>

    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://unpkg.com/moralis-v1@latest/dist/moralis.min.js"></script>
    <script src="https://unpkg.com/@web3auth/web3auth@latest/dist/web3auth.umd.min.js"></script>

    <script>
        tinymce.init({
            selector: 'textarea',
            menubar: false
        });
    </script>

    <!-- Page Components -->
    <script src="../components/header.js" type="text/javascript"></script>
    <script src="../components/footer.js" type="text/javascript"></script>
    <script src="../components/modals.js" type="text/javascript"></script>
</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5ZHRQDP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <!-- ======= Header ======= -->
    <header-component alternate_header="true"></header-component>
    <!-- End Header -->

    <div class="row spacer">&nbsp;</div>
    <main id="main">

        <!-- ======= Streamers Section ======= -->
        <section id="section-streamers" class="gamers">
            <div class="container text-center">

                <header class="section-header">
                    <h2>PlayNFT Account</h2>
                </header>
                <div id="registration-container" class="container d-none">
                    <div class="row align-items-center">
                        <div class="col-12 text-center">
                            <h1>Join the Playground</h1>
                        </div>
                    </div>
                    <div class="row justify-content-md-center">
                        <div class="col-4 register-buttons" onclick="TwitchLogin()">
                            <img src="/assets/img/twitch.svg">
                            <p style="font-size:calc(100% + 0.5vw)">Connect with Twitch</p>
                        </div>
                        <div class="col-4 register-buttons" onclick="MetaMaskLogin()">
                            <img src="/assets/img/metamask.svg">
                            <p style="font-size:calc(100% + 0.5vw)">Connect with MetaMask</p>
                        </div>
                        <div class="col-4 register-buttons" onclick="YoutubeLogin()">
                            <img src="/assets/img/youtube.svg">
                            <p style="font-size:calc(100% + 0.5vw)">Connect with YouTube</p>
                        </div>
                        <div class="col-4 register-buttons" onclick="TikTokLogin()">
                            <img src="/assets/img/tiktok.svg">
                            <p style="font-size:calc(100% + 0.5vw)">Connect with TikTok</p>
                        </div>
                    </div>
                </div>
                <div id="account-container" class="container d-none">
                    <div class="row align-items-center">
                        <div class="col-12 text-center">
                            <h1>Account Dashboard</h1>
                        </div>
                    </div>
                    <div class="row spacer-20">&nbsp;</div>
                    <ul class="nav nav-pills nav-justified" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="profile-tab" data-bs-toggle="tab"
                                data-bs-target="#profile-panel" type="button" role="tab" aria-controls="home"
                                aria-selected="true">Profile</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="twitch-tab" data-bs-toggle="tab" data-bs-target="#twitch-panel"
                                type="button" role="tab" aria-controls="profile" aria-selected="false">Twitch
                                Streamer</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="youtube-tab" data-bs-toggle="tab"
                                data-bs-target="#youtube-panel" type="button" role="tab" aria-controls="contact"
                                aria-selected="false">YouTube Creator</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="tiktok-tab" data-bs-toggle="tab" data-bs-target="#tiktok-panel"
                                type="button" role="tab" aria-controls="contact" aria-selected="false">TikTok
                                Creator</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="history-tab" data-bs-toggle="tab"
                                data-bs-target="#history-panel" type="button" role="tab" aria-controls="contact"
                                aria-selected="false">Transaction History</button>
                        </li>
                    </ul>

                    <form id="account-edit-form" action="#" method="post">
                        <div class="gy-4 account-container">
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="profile-panel" role="tabpanel"
                                    aria-labelledby="profile-tab">
                                    <div class="row spacer">&nbsp;</div>
                                    <div class="row">
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-start align-text-top">
                                            <b>Username: </b>
                                        </div>
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-end align-text-top">
                                            <p id="account-username"></p>
                                        </div>
                                    </div>
                                    <div class="col-md-6 form-floating mb-3">
                                        <input type="email" class="form-control" name="account_email" id="account_email"
                                            placeholder="Notification Email" required />
                                        <label for="account_email">Notification Email</label>
                                        <div class="invalid-feedback">
                                            Invalid Email
                                        </div>
                                    </div>
                                    <div class="col-md-6 form-floating mb-3">
                                        <input type="text" class="form-control" name="account_wallet"
                                            id="account_wallet" placeholder="Wallet Address" disabled />
                                        <label for="account_wallet">Wallet Address</label>
                                    </div>
                                    <div class="col-md-6 form-floating mb-3 paypal_email">
                                        <input type="email" class="form-control" name="paypal_email" id="paypal_email"
                                            placeholder="PayPal Email" />
                                        <label for="paypal_email">PayPal Email</label>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="twitch-panel" role="tabpanel"
                                    aria-labelledby="twitch-tab">
                                    <div class="row spacer">&nbsp;</div>
                                    <div class="row" id="add-twitch">
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-start align-text-top">
                                            <b>Connect with Twitch to start distributing NFTs: </b>
                                        </div>
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-end align-text-top">
                                            <button type="button" class="btn"
                                                style="background-color: #6441a5; color:white "
                                                id="register-twitch">Connect</button>
                                        </div>

                                    </div>
                                    <div id="twitch-container" class="d-none">
                                        <div class="row">
                                            <div
                                                class="col-md-2 col-sm-4 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Storefront URL:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-4 col-sm-8 form-floating mb-3 d-flex justify-content-end">
                                                <p id="streamer-url"></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div
                                                class="col-md-3 col-sm-4 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Revenue Split:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-3 col-sm-8 form-floating mb-3 d-flex justify-content-end">
                                                <p>80%</p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div
                                                class="col-md-3 col-xs-1 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Pending Balance:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-3 col-xs-1 form-floating mb-3 d-flex justify-content-end">
                                                <p id="streamer-balance"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="youtube-panel" role="tabpanel"
                                    aria-labelledby="youtube-tab">
                                    <div class="row spacer">&nbsp;</div>
                                    <div class="row" id="add-youtube">
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-start align-text-top">
                                            <b>Connect with YouTube to start distributing NFTs: </b>
                                        </div>
                                        <div
                                            class="col-md-3 col-sm-6 form-floating mb-3 d-flex justify-content-end align-text-top">
                                            <button type="button" class="btn"
                                                style="background-color: #6441a5; color:white "
                                                id="register-youtube">Connect</button>
                                        </div>

                                    </div>
                                    <div id="youtube-container" class="d-none">
                                        <div class="row">
                                            <div
                                                class="col-md-2 col-sm-4 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Storefront URL:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-4 col-sm-8 form-floating mb-3 d-flex justify-content-end">
                                                <p id="youtube-url"></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div
                                                class="col-md-3 col-sm-4 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Revenue Split:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-3 col-sm-8 form-floating mb-3 d-flex justify-content-end">
                                                <p>80%</p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div
                                                class="col-md-3 col-xs-1 form-floating mb-3 d-flex justify-content-start">
                                                <p><b>Pending Balance:</b> </p>
                                            </div>
                                            <div
                                                class="col-md-3 col-xs-1 form-floating mb-3 d-flex justify-content-end">
                                                <p id="youtube-balance"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tiktok-panel" role="tabpanel"
                                    aria-labelledby="tiktok-tab">
                                    <div class="row spacer">&nbsp;</div>
                                    (Coming Soon!)
                                </div>
                                <div class="tab-pane fade" id="history-panel" role="tabpanel"
                                    aria-labelledby="history-tab">
                                    <div class="row spacer">&nbsp;</div>
                                    (Coming Soon!)
                                </div>
                            </div>
                            <div class="row spacer">&nbsp;</div>
                            <div class="row align-items-center">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary">
                                        Update
                                    </button>
                                    <p id="submission-text" class="toast text-success">Updated Successfully!</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        <!-- ======= End Streamers Section ======= -->
    </main>

    <!-- ======= Footer ======= -->
    <footer-component></footer-component>
    <!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <modals-component></modals-component>

    <!-- Vendor JS Files -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>
    <script src="../assets/vendor/aos/aos.js"></script>
    <script src="../assets/vendor/php-email-form/validate.js"></script>
    <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="../assets/vendor/purecounter/purecounter.js"></script>
    <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>

    <!-- Template Main JS File -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/playnft.js"></script>

    <script>
        async function MetaMaskLogin() {
            let user = await Moralis.authenticate({
                signingMessage: "PlayNFT with Moralis"
            })
                .then(async function (user) {
                    console.log(user)
                    window.location.reload();
                })
                .catch(function (error) {
                    console.log(error);
                    return null;
                });

            return user;
        }

        async function TwitchLogin() {
            let clientID = "bugcm9v8dm9e2d4wp7u9l3hsnd5plo"
            let redirectSite = location.protocol + "//" + location.host + "/account"
            let state = 'twitch|' + window.btoa(encodeURIComponent(escape(new Date().toDateString())));

            location = 'https://id.twitch.tv/oauth2/authorize?response_type=token+id_token&client_id=' + clientID + '&redirect_uri=' + redirectSite + '&scope=openid%20user:read:email&state=' + state + '&claims={"id_token":{"email":null,"email_verified":null},"userinfo":{"email":null,"email_verified":null,"picture":null, "preferred_username":null}}';

        }

        async function YoutubeLogin() {
            let clientID = "395370270279-i95j3msppjm0grdm1142fdj2noe9u1ib.apps.googleusercontent.com"
            let redirectSite = location.protocol + "//" + location.host + '/account'
            let state = 'youtube|' + window.btoa(encodeURIComponent(escape(new Date().toDateString())));

            location = 'https://accounts.google.com/o/oauth2/v2/auth?response_type=token&client_id=' + clientID + '&redirect_uri=' + redirectSite + '&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fyoutube.readonly&state=' + state + '&include_granted_scopes=true';

        }

        async function TikTokLogin() {
            let clientID = "awil4aoneqyrebd9"
            let redirectSite = location.protocol + "//" + location.host + '/account'
            let state = 'tiktok|' + window.btoa(encodeURIComponent(escape(new Date().toDateString())));

            location = 'https://www.tiktok.com/auth/authorize/?client_key=' + clientID + '&scope=user.info.basic&response_type=code&redirect_uri=' + redirectSite + '&state=' + state;

        }

        function GetTwitchBalance() {
            $("#streamer-balance").html('$0.00')
            $("#youtube-balance").html('$0.00')
            let formData = { streamerId: streamerID };

            $.ajax({
                url:
                    "https://api.playnft.io/getaccount",
                type: "POST",
                crossDomain: true,
                data: JSON.stringify(formData),
                dataType: "json",
                contentType: "application/json",
                success: function (data) {
                    console.info(data);
                    let response = jQuery.parseJSON(data);

                    $("#streamer-balance").html('$' + response.balance)
                    $("#youtube-balance").html('$' + response.youtube_balance)
                },
            });
        }

        $(document).on("click", "#register-twitch", function (e) {
            e.preventDefault();
            TwitchLogin();
        });

        $(document).on("click", "#register-youtube", function (e) {
            e.preventDefault();
            YoutubeLogin();
        });

        $(document).on("click", "#register-tiktok", function (e) {
            e.preventDefault();
            TikTokLogin();
        });

        $("#account-edit-form").on("submit", async function (e) {
            e.preventDefault();
            let email = $("#account_email").val();
            let paypalID = $("#paypal_email").val();

            if (MoralisUser && email) {
                MoralisUser.set("email", email);
                MoralisUser.set("paypalID", paypalID);
                await MoralisUser.save().then(function () {

                    $("#submission-text").toast('show');
                    $("#account_email").removeClass('is-invalid')
                }).catch(function (error) {
                    console.log(error)
                    $("#account_email").addClass('is-invalid')
                });
            }


        })


        $(document).ready(function () {
            $("#streamer-balance").html('$0.00')
            $("#youtube-balance").html('$0.00')
            var hash = window.location.hash.substring(1);
            var params = {}
            hash.split('&').map(hk => {
                let temp = hk.split('=');
                params[temp[0]] = temp[1]
            });

            console.log(params)
            if (params.access_token && params.token_type && params.state) {
                var clientID = "bugcm9v8dm9e2d4wp7u9l3hsnd5plo"
                let state = window.btoa(encodeURIComponent(escape(new Date().toDateString())));
                let service = params.state.split('%7C')[0];
                let _state = params.state.split('%7C')[1];

                if (params.state.includes('%257C')) {
                    service = params.state.split('%257C')[0];
                    _state = params.state.split('%257C')[1];
                }

                console.log(service)
                if (_state == state) {

                    if (service == "youtube") {
                        $.ajax({
                            url: 'https://www.googleapis.com/youtube/v3/channels?part=snippet&mine=true',
                            type: 'GET',
                            beforeSend: function (xhr) {
                                xhr.setRequestHeader('Authorization', 'Bearer ' + params.access_token);
                            },
                            data: {},
                            success: function (data) {
                                console.info(data);

                                if (data.items.length == 0) {
                                    alert("Invalid account!");
                                    stopLoading();
                                    return;
                                }

                                serviceID = service;
                                streamerID = data.items[0].id;
                                let name = data.items[0].snippet.customUrl ? data.items[0].snippet.customUrl : 'Google User';
                                let picture = data.items[0].snippet.thumbnails.medium.url;
                                name = name.replace(/^([@]*)/g, '')
                                streamerName = name;

                                let formData = { streamer_id: streamerID, streamer_name: name, streamer_email: '', streamer_picture: picture, mode: "streamer", service: service };

                                $.ajax({
                                    url:
                                        "https://api.playnft.io/getnfts",
                                    type: "POST",
                                    crossDomain: true,
                                    data: JSON.stringify(formData),
                                    dataType: "json",
                                    contentType: "application/json",
                                    success: async function (data) {
                                        console.info(data);
                                        if (MoralisUser) {
                                            MoralisUser.set("youtubeID", streamerID);
                                            MoralisUser.set("youtubeName", streamerName);
                                            MoralisUser.save();
                                        } else {
                                            $("#registration-container").addClass("d-none");
                                            MoralisUser = await Moralis.User.logIn(streamerID, streamerID).then(() => {
                                                location = location.protocol + "//" + location.host + "/account";
                                            })
                                                .catch(async function () {
                                                    console.log("Login Failed");
                                                    let user = new Moralis.User();
                                                    user.set("username", streamerID);
                                                    user.set("password", streamerID);
                                                    user.set("youtubeID", streamerID);
                                                    user.set("youtubeName", streamerName);

                                                    try {
                                                        await user.signUp();
                                                        MoralisUser = await Moralis.User.logIn(streamerID, streamerID, { usePost: true });
                                                        location = location.protocol + "//" + location.host + "/account";
                                                    } catch (error) {
                                                        //window.location.reload();
                                                        console.log(error)
                                                    }
                                                });


                                        }

                                        if (streamerName != "Google User") {
                                            $("#add-youtube").hide();
                                            $("#youtube-container").removeClass("d-none");
                                            $("#youtube-url").html(`<a target="_blank" href="http://playnft.io/y/?${streamerName}">http://playnft.io/y/?${streamerName}</a>`)
                                        }
                                    },
                                });


                            }
                        });
                    }

                    if (service == "twitch") {
                        $.ajax({
                            url: 'https://id.twitch.tv/oauth2/userinfo',
                            type: 'GET',
                            beforeSend: function (xhr) {
                                xhr.setRequestHeader('Authorization', 'Bearer ' + params.access_token);
                            },
                            data: {},
                            success: function (data) {
                                console.info(data);

                                if (data.aud != clientID) return;
                                if (data.email_verified == false) {
                                    alert("Twitch Email must be verified!");
                                    return;
                                }

                                streamerID = data.sub;
                                var username = data.preferred_username;
                                var streamerEmail = data.email;
                                streamerName = username;

                                let formData = { streamer_id: streamerID, streamer_name: data.preferred_username, streamer_email: data.email, streamer_picture: data.picture, mode: "register" };

                                $.ajax({
                                    url:
                                        "https://api.playnft.io/getnfts",
                                    type: "POST",
                                    crossDomain: true,
                                    data: JSON.stringify(formData),
                                    dataType: "json",
                                    contentType: "application/json",
                                    success: async function (data) {
                                        console.log(streamerID)
                                        if (MoralisUser) {
                                            MoralisUser.set("twitchID", streamerID);
                                            MoralisUser.set("twitchName", streamerName);
                                            MoralisUser.save();
                                        } else {
                                            $("#registration-container").addClass("d-none");
                                            MoralisUser = await Moralis.User.logIn(streamerID, username).then(() => {
                                                location = location.protocol + "//" + location.host + "/account";
                                            })
                                                .catch(async function () {
                                                    console.log("Login Failed - " + streamerID);
                                                    let user = new Moralis.User();
                                                    user.set("username", streamerID);
                                                    user.set("password", username);
                                                    //user.set("email", streamerEmail);
                                                    user.set("twitchID", streamerID);
                                                    user.set("twitchName", streamerName);

                                                    try {
                                                        await user.signUp();
                                                        MoralisUser = await Moralis.User.logIn(streamerID, username, { usePost: true });
                                                        location = location.protocol + "//" + location.host + "/account";
                                                    } catch (error) {
                                                        //window.location.reload();
                                                        console.log(error)
                                                    }
                                                });


                                        }

                                        $("#add-twitch").hide();
                                        $("#twitch-container").removeClass("d-none");
                                        $("#streamer-url").html(`<a target="_blank" href="http://playnft.io/s/?${streamerName}">http://playnft.io/s/?${streamerName}</a>`)
                                    },
                                });

                            },
                            error: function (error) {
                                console.info(error);
                            },
                        });
                    }
                }
            }

        });

        $(document).on("click", "#login-twitch", function () {
            let clientID = "bugcm9v8dm9e2d4wp7u9l3hsnd5plo"
            let redirectSite = location.protocol + "//" + location.host + "/streamers"
            let state = window.location.search.replace('?', '');


            location = 'https://id.twitch.tv/oauth2/authorize?response_type=token+id_token&client_id=' + clientID + '&redirect_uri=' + redirectSite + '&scope=openid%20user:read:email&state=' + state + '&claims={"id_token":{"email":null,"email_verified":null},"userinfo":{"email":null,"email_verified":null,"picture":null, "preferred_username":null}}';

        });

    </script>

    <script id="streamers-template" type="text/x-jquery-tmpl">
        <div class="card" style="width:250px;margin: 10px;">
            <img class="card-img-top" src="${picture}" alt="${name}"  onError="this.onerror=null;this.src='/assets/img/twitch-v2.svg';">
            <div class="card-body">
            <h5 class="card-title">${name}</h5>
            <p class="card-text">${nfts} Tokens</p>
            <p class="card-text">
                <button style="width:90%;margin-bottom:10px;background-color:green" type="submit" onclick="window.location.assign('/streamers/?${id}')">View Tokens</button>
                <button style="width:90%;" type="submit" onclick="window.open('https://www.twitch.tv/${name}')">Visit Channel <i class="ri-external-link-fill"></i></button></p>
            </div>
        </div>
  </script>

    <script id="token-template" type="text/x-jquery-tmpl">
    <div class="card" style="width:250px;margin: 10px;">
        <img class="card-img-top" src="${picture}" alt="${name}"  onError="this.onerror=null;this.src='/assets/img/twitch-v2.svg';">
        <div class="card-body">
        <h5 class="card-title">${name}</h5>
        <p class="card-text">${supply} NFTs Remaining</p>
        <p class="card-text" id="token-purchase-${id}">
            {{if supply != 0 }}
            <button class="token-purchase" style="width:90%;margin-bottom:10px;background-color:green" type="submit" data-bs-toggle="modal" data-bs-target="#purchase-twitch-modal" data-contentid="${id}" data-description="${description}" data-picture="${picture}" data-name="${name}" data-cost="${cost}" data-streamerid="${streamerid}" data-streamername="${streamername}">$${cost}</button>
            {{/if}}
        </p>
            
        </div>
    </div>
</script>

</html>